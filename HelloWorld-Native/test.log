CREATE USER SA PASSWORD "" ADMIN
/*C1*/SET SCHEMA PUBLIC
CONNECT USER SA
/*C2*/SET SCHEMA PUBLIC
CONNECT USER SA
/*C3*/SET SCHEMA PUBLIC
CONNECT USER SA
/*C4*/SET SCHEMA PUBLIC
CONNECT USER SA
/*C5*/SET SCHEMA PUBLIC
CONNECT USER SA
/*C6*/SET SCHEMA PUBLIC
CONNECT USER SA
/*C3*/DISCONNECT
/*C2*/SET AUTOCOMMIT FALSE
SET AUTOCOMMIT TRUE
drop table MESSAGES if exists
create table MESSAGES (MESSAGE_ID bigint generated by default as identity (start with 1), MESSAGE_TEXT varchar(255), NEXT_MESSAGE_ID bigint, primary key (MESSAGE_ID))
alter table MESSAGES add constraint FK_NEXT_MESSAGE foreign key (NEXT_MESSAGE_ID) references MESSAGES
DISCONNECT
/*C5*/DISCONNECT
/*C4*/DISCONNECT
/*C6*/DISCONNECT
/*C1*/DISCONNECT
/*C7*/SET SCHEMA PUBLIC
CONNECT USER SA
/*C8*/SET SCHEMA PUBLIC
CONNECT USER SA
/*C9*/SET SCHEMA PUBLIC
CONNECT USER SA
/*C10*/SET SCHEMA PUBLIC
CONNECT USER SA
/*C11*/SET SCHEMA PUBLIC
CONNECT USER SA
/*C7*/SET AUTOCOMMIT FALSE
SET AUTOCOMMIT TRUE
/*C8*/SET AUTOCOMMIT FALSE
INSERT INTO MESSAGES VALUES(1,'Hello World',NULL)
COMMIT
SET AUTOCOMMIT TRUE
/*C9*/SET AUTOCOMMIT FALSE
SET AUTOCOMMIT TRUE
/*C10*/SET AUTOCOMMIT FALSE
INSERT INTO MESSAGES VALUES(2,'Take me to your leader (please)',NULL)
DELETE FROM MESSAGES WHERE MESSAGE_ID=1
INSERT INTO MESSAGES VALUES(1,'Greetings Earthling',2)
COMMIT
SET AUTOCOMMIT TRUE
/*C11*/SET AUTOCOMMIT FALSE
SET AUTOCOMMIT TRUE
/*C8*/DISCONNECT
/*C9*/DISCONNECT
/*C10*/DISCONNECT
/*C7*/DISCONNECT
/*C11*/DISCONNECT
/*C12*/SET SCHEMA PUBLIC
CONNECT USER SA
/*C13*/SET SCHEMA PUBLIC
CONNECT USER SA
/*C14*/SET SCHEMA PUBLIC
CONNECT USER SA
/*C15*/SET SCHEMA PUBLIC
CONNECT USER SA
/*C16*/SET SCHEMA PUBLIC
CONNECT USER SA
/*C12*/drop table MESSAGES if exists
create table MESSAGES (MESSAGE_ID bigint generated by default as identity (start with 1), MESSAGE_TEXT varchar(255), NEXT_MESSAGE_ID bigint, primary key (MESSAGE_ID))
alter table MESSAGES add constraint FK131AF14C3CD80C22 foreign key (NEXT_MESSAGE_ID) references MESSAGES
/*C13*/DISCONNECT
/*C16*/DISCONNECT
/*C15*/DISCONNECT
/*C12*/DISCONNECT
/*C14*/DISCONNECT
/*C17*/SET SCHEMA PUBLIC
CONNECT USER SA
/*C18*/SET SCHEMA PUBLIC
CONNECT USER SA
/*C19*/SET SCHEMA PUBLIC
CONNECT USER SA
/*C20*/SET SCHEMA PUBLIC
CONNECT USER SA
/*C21*/SET SCHEMA PUBLIC
CONNECT USER SA
/*C18*/SET AUTOCOMMIT FALSE
INSERT INTO MESSAGES VALUES(1,'Hello World with JPA',NULL)
COMMIT
SET AUTOCOMMIT TRUE
/*C19*/SET AUTOCOMMIT FALSE
SET AUTOCOMMIT TRUE
/*C17*/DISCONNECT
/*C18*/DISCONNECT
/*C20*/DISCONNECT
/*C21*/DISCONNECT
/*C19*/DISCONNECT
/*C22*/SET SCHEMA PUBLIC
CONNECT USER SA
alter table MESSAGES drop constraint FK131AF14C3CD80C22
drop table MESSAGES if exists
create table MESSAGES (MESSAGE_ID bigint generated by default as identity (start with 1), MESSAGE_TEXT varchar(255), NEXT_MESSAGE_ID bigint, primary key (MESSAGE_ID))
alter table MESSAGES add constraint FK131AF14C3CD80C22 foreign key (NEXT_MESSAGE_ID) references MESSAGES
SET AUTOCOMMIT FALSE
INSERT INTO MESSAGES VALUES(1,'Hello World with EJB3',NULL)
COMMIT
DISCONNECT
/*C23*/SET SCHEMA PUBLIC
CONNECT USER SA
alter table MESSAGES drop constraint FK131AF14C3CD80C22
drop table MESSAGES if exists
create table MESSAGES (MESSAGE_ID bigint generated by default as identity (start with 1), MESSAGE_TEXT varchar(255), NEXT_MESSAGE_ID bigint, primary key (MESSAGE_ID))
alter table MESSAGES add constraint FK131AF14C3CD80C22 foreign key (NEXT_MESSAGE_ID) references MESSAGES
SET AUTOCOMMIT FALSE
INSERT INTO MESSAGES VALUES(1,'Hello World with EJB3',NULL)
COMMIT
DISCONNECT
